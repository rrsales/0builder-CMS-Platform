<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Honest News Network</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  body{margin:0;font-family:system-ui;background:#fff;color:#333;line-height:1.7}
  nav{background:rgba(0,0,0,0.9);backdrop-filter:blur(12px);position:fixed;top:0;width:100%;z-index:1000;padding:16px 0}
  nav ul{list-style:none;display:flex;justify-content:center;gap:50px}
  nav a{color:white;text-decoration:none;font-weight:600;padding:10px 0;display:flex;align-items:center;gap:8px}
  nav a:hover,nav a.active{color:#28a745;border-bottom:3px solid #28a745;padding-bottom:7px}
  main{margin-top:80px}
  .hero{height:80vh;background:center/cover no-repeat;position:relative;display:flex;align-items:center;justify-content:center;color:white;text-align:center}
  .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,0.5)}
  .hero h1{font-size:4.5rem;font-weight:800;text-shadow:0 0 40px black}
  .content{max-width:1100px;margin:0 auto;padding:80px 20px}
  .btn{background:#28a745;color:white;padding:16px 40px;border-radius:50px;font-weight:600;display:inline-block;margin:20px 0}
</style>
</head>
<body>

<nav id="nav"><ul></ul></nav>

<main>
  <div class="hero" id="hero"><h1 id="title">Loading...</h1></div>
  <div class="content" id="content">Loading your content...</div>
</main>

<script>
// Auto-load from admin
fetch("site-data.json?t=${Date.now()}").then(r=>r.json()).then(data=>{
  // Build menu
  const menu = document.querySelector("#nav ul");
  data.pages.forEach(p=>{
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = "#";
    a.textContent = p.title;
    a.onclick = () => loadPage(p);
    li.appendChild(a);
    menu.appendChild(li);
  });
  loadPage(data.pages[0]);
}).catch(()=>document.body.innerHTML="<h1 style='text-align:center;margin-top:100px'>Site loading...</h1>");

function loadPage(page){
  document.querySelectorAll("nav a").forEach(a=>a.classList.remove("active"));
  event.target.classList.add("active");
  document.getElementById("title").textContent = page.title;
  document.getElementById("hero").style.backgroundImage = `url(${page.hero?.bg || 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920'})`;
  document.getElementById("hero").style.backgroundAttachment = page.hero?.parallax ? "fixed" : "scroll";
  document.getElementById("hero").style.height = page.hero?.size==="small"?"50vh":page.hero?.size==="large"?"100vh":"80vh";

  let html = "";
  page.blocks?.forEach(b=>{
    if(b.type==="heading") html += `<h2>${b.content}</h2>`;
    if(b.type==="paragraph") html += `<p>${b.content}</p>`;
    if(b.type==="image") html += `<img src="${b.content}" style="max-width:100%;border-radius:16px">`;
    if(b.type==="youtube") html += `<iframe src="https://www.youtube.com/embed/${b.content}" style="width:100%;height:500px;border:none"></iframe>`;
    if(b.type==="button") html += `<a href="${b.url}" class="btn">${b.text}</a>`;
  });
  document.getElementById("content").innerHTML = html || "<p>Add content from your admin panel</p>";
}
</script>
</body>
</html>


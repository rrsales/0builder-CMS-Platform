<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Honest News – Site Editor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:system-ui,sans-serif;background:#0d1117;color:#c9d1d9;height:100vh;display:flex}
#login,#editor{display:none;flex-direction:column;height:100%}
#login.active,#editor.active{display:flex}
input,button,select{padding:12px;border-radius:8px;border:none;font-size:16px;margin:8px 0}
#loginBox{background:#161b22;padding:50px;border-radius:12px;border:1px solid #30363d;width:400px;text-align:center}
button{background:#238636;color:white;cursor:pointer;font-weight:bold}
button:hover{background:#2ea043}
#main{flex:1;display:flex}
.sidebar{width:280px;background:#161b22;border-right:1px solid #30363d;padding:20px;overflow-y:auto}
.tab{padding:15px;margin:5px 0;border-radius:6px;cursor:pointer}
.tab.active{background:#238636}
.canvas{flex:1;background:white;color:#24292f;padding:40px;overflow-y:auto}
.preview{width:420px;background:#000;border-left:8px solid #000}
.preview iframe{width:100%;height:100%;border:none;background:white}
.block{margin:20px 0;padding:20px;background:#f6f8fa;border:2px dashed #ccc;border-radius:8px;position:relative;cursor:pointer}
.block:hover,.block.selected{border-color:#238636;background:#e6ffed}
.toolbar{position:absolute;top:-50%;left:50%;transform:translate(-50%,-50%);background:#161b22;padding:10px 20px;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.5);display:none;z-index:100}
.toolbar button{margin:0 5px;background:#238636;color:white;border:none;padding:8px 16px;border-radius:4px}
#heroPreview img,#heroPreview video{max-width:100%;border-radius:12px;margin-top:15px;box-shadow:0 15px 40px rgba(0,0,0,0.4)}
</style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="login" class="active">
  <div id="loginBox">
    <h1>Honest News<br><small>Site Editor</small></h1>
    <input type="password" id="pwd" placeholder="Password">
    <button id="loginBtn">Enter Editor</button>
    <div id="msg" style="color:#f85149;margin-top:15px"></div>
  </div>
</div>

<!-- FULL EDITOR -->
<div id="editor">
  <div class="sidebar">
    <h2>Pages</h2>
    <div id="pageList"></div>
    <button id="newPage" style="width:100%;padding:15px;margin-top:20px;background:#238636;color:white">+ New Page</button>
    <hr style="margin:30px 0">
    <div class="tab" data-tab="hero">Hero & Parallax</div>
    <button style="width:100%;margin-top:20px;background:#c33;color:white" onclick="location.reload()">Logout</button>
  </div>

  <div id="main">
    <div class="canvas" id="canvas">
      <h1>Select or create a page</h1>
    </div>
    <div class="preview"><iframe id="frame"></iframe></div>
  </div>
</div>

<script>
// PASSWORD = honest2025
const PASS = "honest2025";
let db = {pages:[],heroes:{}};

function save(){localStorage.setItem("honest2025_editor",JSON.stringify(db))}
function load(){const d=localStorage.getItem("honest2025_editor");if(d)db=JSON.parse(d)
  if(db.pages.length===0)db.pages=[{id:"home",title:"Home",blocks:[{type:"heading",text:"Welcome to Honest News"}]}]
  renderPages()}

document.getElementById("loginBtn").onclick=()=>{if(document.getElementById("pwd").value===PASS){
  document.getElementById("login").classList.remove("active")
  document.getElementById("editor").classList.add("active");load()}else document.getElementById("msg").textContent="Wrong password"}

function renderPages(){const l=document.getElementById("pageList");l.innerHTML=""
  db.pages.forEach(p=>{(b=>l.appendChild(b))(Object.assign(document.createElement("div"),{className:"tab",textContent:p.title,onclick:()=>openPage(p.id)})))}
document.getElementById("newPage").onclick=()=>{const t=prompt("Page title");if(t){const id=Date.now();db.pages.push({id,title:t,blocks:[]});save();renderPages();openPage(id)}}

function openPage(id){const p=db.pages.find(x=>x.id===id)
  document.getElementById("canvas").innerHTML=`<h1>${p.title}</h1><div id="blocks"></div><button id="addBlock">+ Add Block</button>`
  p.blocks.forEach((b,i)=>addBlock(b,i))
  document.getElementById("addBlock").onclick=()=>{const t=prompt("Block type: heading / paragraph / image / youtube");if(t)p.blocks.push({type:t,text:t==="image"||t==="youtube"?"":"New block"});openPage(id);save();preview()}
  preview()}

function addBlock(b,i){const d=document.createElement("div");d.className="block";d.innerHTML=b.type==="heading"?`<h2 contenteditable>${b.text}</h2>`:b.type==="paragraph"?`<p contenteditable>${b.text}</p>`:b.type==="image"?`<img src="${b.text}" style="max-width:100%">`:b.type==="youtube"?`<iframe src="https://www.youtube.com/embed/${b.text}" style="width:100%;height:400px"></iframe>`:""
  d.onclick=e=>{e.stopPropagation();document.querySelectorAll(".block").forEach(x=>x.classList.remove("selected"));d.classList.add("selected");showToolbar(d,i)}
  d.querySelectorAll("[contenteditable]").forEach(x=>x.onblur=()=>{b.text=x.innerText;save();preview()})
  document.getElementById("blocks").appendChild(d)}

function showToolbar(block,i){/* simple version – you’ll get floating toolbar in v2 */}
function preview(){const p=db.pages.find(x=>x.id===currentId)||db.pages[0]
  let h=`<!DOCTYPE html><html><body style="margin:0;font-family:sans-serif">`
  const hero=db.heroes[p.id]||{type:"none"}
  if(hero.type==="image")h+=`<div style="height:100vh;background:url(${hero.src}) center/cover fixed;display:flex;align-items:center;justify-content:center;color:white;text-align:center"><h1 style="font-size:5rem;text-shadow:0 0 30px black">${p.title}</h1></div>`
  p.blocks.forEach(b=>{if(b.type==="heading")h+=`<h1 style="text-align:center;padding:60px">${b.text}</h1>`;else if(b.type==="paragraph")h+=`<p style="max-width:800px;margin:40px auto;line-height:1.8">${b.text}</p>`})
  })
  h+="</body></html>"
  const blob=new Blob([h],{type:"text/html"})
  document.getElementById("frame").src=URL.createObjectURL(blob)}

renderPages()
</script>
</body>
</html>














